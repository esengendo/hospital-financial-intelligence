2025-06-26 14:26:44,122 - __main__ - INFO - 🚀 Starting Hospital Financial Distress Prediction Pipeline
2025-06-26 14:26:44,123 - __main__ - INFO - ============================================================
2025-06-26 14:26:44,123 - __main__ - INFO - 🏥 Loading engineered feature data...
2025-06-26 14:26:44,159 - __main__ - INFO -    ✓ features_2003.parquet: 473 records, 33 features
2025-06-26 14:26:44,162 - __main__ - INFO -    ✓ features_2004.parquet: 473 records, 33 features
2025-06-26 14:26:44,164 - __main__ - INFO -    ✓ features_2005.parquet: 473 records, 33 features
2025-06-26 14:26:44,166 - __main__ - INFO -    ✓ features_2006.parquet: 448 records, 33 features
2025-06-26 14:26:44,169 - __main__ - INFO -    ✓ features_2007.parquet: 455 records, 33 features
2025-06-26 14:26:44,171 - __main__ - INFO -    ✓ features_2008.parquet: 455 records, 33 features
2025-06-26 14:26:44,174 - __main__ - INFO -    ✓ features_2009.parquet: 454 records, 33 features
2025-06-26 14:26:44,176 - __main__ - INFO -    ✓ features_2010.parquet: 448 records, 33 features
2025-06-26 14:26:44,178 - __main__ - INFO -    ✓ features_2011.parquet: 447 records, 33 features
2025-06-26 14:26:44,181 - __main__ - INFO -    ✓ features_2012.parquet: 449 records, 33 features
2025-06-26 14:26:44,183 - __main__ - INFO -    ✓ features_2013.parquet: 449 records, 33 features
2025-06-26 14:26:44,185 - __main__ - INFO -    ✓ features_2014.parquet: 451 records, 33 features
2025-06-26 14:26:44,188 - __main__ - INFO -    ✓ features_2015.parquet: 428 records, 33 features
2025-06-26 14:26:44,191 - __main__ - INFO -    ✓ features_2016.parquet: 447 records, 33 features
2025-06-26 14:26:44,193 - __main__ - INFO -    ✓ features_2017.parquet: 447 records, 33 features
2025-06-26 14:26:44,195 - __main__ - INFO -    ✓ features_2018.parquet: 455 records, 33 features
2025-06-26 14:26:44,198 - __main__ - INFO -    ✓ features_2019.parquet: 455 records, 33 features
2025-06-26 14:26:44,200 - __main__ - INFO -    ✓ features_2020.parquet: 444 records, 33 features
2025-06-26 14:26:44,203 - __main__ - INFO -    ✓ features_2021.parquet: 441 records, 33 features
2025-06-26 14:26:44,205 - __main__ - INFO -    ✓ features_2022.parquet: 441 records, 33 features
2025-06-26 14:26:44,207 - __main__ - INFO -    ✓ features_2023.parquet: 442 records, 33 features
2025-06-26 14:26:44,212 - __main__ - INFO - ✅ Feature data loaded:
2025-06-26 14:26:44,212 - __main__ - INFO -    📊 Total records: 9,475
2025-06-26 14:26:44,213 - __main__ - INFO -    📅 Year range: 2003 - 2023
2025-06-26 14:26:44,213 - __main__ - INFO -    📈 Features: 31
2025-06-26 14:26:44,213 - __main__ - INFO -    🏥 Unique hospitals: 461
2025-06-26 14:26:44,217 - src.modeling - INFO - 📊 Initialized ModelTrainer with 9475 records
2025-06-26 14:26:44,217 - src.modeling - INFO - 📅 Year range: 2003 - 2023
2025-06-26 14:26:44,217 - src.modeling - INFO - Creating target variable based on operating_margin < -0.05 for 2 consecutive years...
2025-06-26 14:26:44,252 - src.modeling - INFO - ✅ Target variable created: 396 distressed (4.2%) out of 9475 records
2025-06-26 14:26:44,252 - src.modeling - INFO - 📊 Splitting data:
2025-06-26 14:26:44,252 - src.modeling - INFO -    🏋️ Training: ≤ 2016
2025-06-26 14:26:44,252 - src.modeling - INFO -    🧪 Test: 2017 - 2018
2025-06-26 14:26:44,252 - src.modeling - INFO -    ✅ Validation: ≥ 2019
2025-06-26 14:26:44,253 - src.modeling - INFO - ✅ Data split complete:
2025-06-26 14:26:44,254 - src.modeling - INFO -    🏋️ Training: 6350 records, 0 distressed (0.0%)
2025-06-26 14:26:44,254 - src.modeling - INFO -    🧪 Test: 902 records, 1 distressed (0.1%)
2025-06-26 14:26:44,254 - src.modeling - INFO -    ✅ Validation: 2223 records, 395 distressed (17.8%)
2025-06-26 14:26:44,254 - src.modeling - INFO -    📊 Features: 31
2025-06-26 14:26:44,254 - __main__ - INFO - 🔧 Running quick hyperparameter tuning...
2025-06-26 14:26:44,254 - src.modeling - INFO - 🔧 Starting hyperparameter tuning with 2-fold TimeSeriesSplit...
2025-06-26 14:26:44,255 - __main__ - ERROR - ❌ Pipeline failed: 1
2025-06-26 14:43:35,487 - __main__ - INFO - 🚀 Starting Hospital Financial Distress Prediction Pipeline
2025-06-26 14:43:35,487 - __main__ - INFO - ============================================================
2025-06-26 14:43:35,487 - __main__ - INFO - 🏥 Loading engineered feature data...
2025-06-26 14:43:35,526 - __main__ - INFO -    ✓ features_2003.parquet: 473 records, 33 features
2025-06-26 14:43:35,528 - __main__ - INFO -    ✓ features_2004.parquet: 473 records, 33 features
2025-06-26 14:43:35,531 - __main__ - INFO -    ✓ features_2005.parquet: 473 records, 33 features
2025-06-26 14:43:35,533 - __main__ - INFO -    ✓ features_2006.parquet: 448 records, 33 features
2025-06-26 14:43:35,536 - __main__ - INFO -    ✓ features_2007.parquet: 455 records, 33 features
2025-06-26 14:43:35,538 - __main__ - INFO -    ✓ features_2008.parquet: 455 records, 33 features
2025-06-26 14:43:35,540 - __main__ - INFO -    ✓ features_2009.parquet: 454 records, 33 features
2025-06-26 14:43:35,543 - __main__ - INFO -    ✓ features_2010.parquet: 448 records, 33 features
2025-06-26 14:43:35,545 - __main__ - INFO -    ✓ features_2011.parquet: 447 records, 33 features
2025-06-26 14:43:35,548 - __main__ - INFO -    ✓ features_2012.parquet: 449 records, 33 features
2025-06-26 14:43:35,550 - __main__ - INFO -    ✓ features_2013.parquet: 449 records, 33 features
2025-06-26 14:43:35,552 - __main__ - INFO -    ✓ features_2014.parquet: 451 records, 33 features
2025-06-26 14:43:35,554 - __main__ - INFO -    ✓ features_2015.parquet: 428 records, 33 features
2025-06-26 14:43:35,557 - __main__ - INFO -    ✓ features_2016.parquet: 447 records, 33 features
2025-06-26 14:43:35,559 - __main__ - INFO -    ✓ features_2017.parquet: 447 records, 33 features
2025-06-26 14:43:35,561 - __main__ - INFO -    ✓ features_2018.parquet: 455 records, 33 features
2025-06-26 14:43:35,564 - __main__ - INFO -    ✓ features_2019.parquet: 455 records, 33 features
2025-06-26 14:43:35,566 - __main__ - INFO -    ✓ features_2020.parquet: 444 records, 33 features
2025-06-26 14:43:35,568 - __main__ - INFO -    ✓ features_2021.parquet: 441 records, 33 features
2025-06-26 14:43:35,571 - __main__ - INFO -    ✓ features_2022.parquet: 441 records, 33 features
2025-06-26 14:43:35,573 - __main__ - INFO -    ✓ features_2023.parquet: 442 records, 33 features
2025-06-26 14:43:35,578 - __main__ - INFO - ✅ Feature data loaded:
2025-06-26 14:43:35,578 - __main__ - INFO -    📊 Total records: 9,475
2025-06-26 14:43:35,578 - __main__ - INFO -    📅 Year range: 2003 - 2023
2025-06-26 14:43:35,578 - __main__ - INFO -    📈 Features: 31
2025-06-26 14:43:35,579 - __main__ - INFO -    🏥 Unique hospitals: 461
2025-06-26 14:43:35,583 - src.modeling - INFO - 📊 Initialized ModelTrainer with 9475 records
2025-06-26 14:43:35,583 - src.modeling - INFO - 📅 Year range: 2003 - 2023
2025-06-26 14:43:35,583 - src.modeling - INFO - Creating target variable based on operating_margin < -5.0 for 2 consecutive years...
2025-06-26 14:43:35,617 - src.modeling - INFO - ✅ Target variable created: 277 distressed (2.9%) out of 9475 records
2025-06-26 14:43:35,617 - src.modeling - WARNING - ⚠️  Severe class imbalance detected (2.9%). Will apply SMOTE and class weighting.
2025-06-26 14:43:35,617 - src.modeling - INFO - 📊 Splitting data:
2025-06-26 14:43:35,617 - src.modeling - INFO -    🏋️ Training: ≤ 2019
2025-06-26 14:43:35,617 - src.modeling - INFO -    🧪 Test: 2020 - 2020
2025-06-26 14:43:35,617 - src.modeling - INFO -    ✅ Validation: ≥ 2021
2025-06-26 14:43:35,619 - src.modeling - INFO - 📏 Applying RobustScaler to handle financial outliers...
2025-06-26 14:43:35,627 - src.modeling - INFO - ✅ Data split and scaling complete:
2025-06-26 14:43:35,627 - src.modeling - INFO -    🏋️ Training: 7707 records, 61 distressed (0.8%)
2025-06-26 14:43:35,627 - src.modeling - INFO -    🧪 Test: 444 records, 36 distressed (8.1%)
2025-06-26 14:43:35,627 - src.modeling - INFO -    ✅ Validation: 1324 records, 180 distressed (13.6%)
2025-06-26 14:43:35,627 - src.modeling - INFO -    📊 Features: 31 (scaled with RobustScaler)
2025-06-26 14:43:35,627 - __main__ - INFO - 🔧 Running balanced hyperparameter tuning...
2025-06-26 14:43:35,627 - src.modeling - INFO - 🔧 Starting balanced hyperparameter tuning with RandomizedSearchCV...
2025-06-26 14:43:35,627 - src.modeling - INFO -    🎯 Mode: balanced (50 iterations, 3-fold CV)
2025-06-26 14:43:35,627 - src.modeling - INFO -    🎯 Using SMOTE for synthetic minority class generation...
2025-06-26 14:43:35,628 - src.modeling - INFO - 📊 Class imbalance ratio: 125.34
2025-06-26 14:43:35,630 - src.modeling - INFO - 🔍 Testing 50 random parameter combinations...
2025-06-26 14:43:35,630 - src.modeling - INFO - ⏱️  Estimated time: 15-20 minutes
2025-06-26 14:43:37,813 - __main__ - ERROR - ❌ Pipeline failed: 
All the 150 fits failed.
It is very likely that your model is misconfigured.
You can try to debug the error by setting error_score='raise'.

Below are more details about the failures:
--------------------------------------------------------------------------------
150 fits failed with the following error:
Traceback (most recent call last):
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/sklearn/model_selection/_validation.py", line 866, in _fit_and_score
    estimator.fit(X_train, y_train, **fit_params)
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/sklearn/base.py", line 1389, in wrapper
    return fit_method(estimator, *args, **kwargs)
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/imblearn/pipeline.py", line 518, in fit
    Xt, yt = self._fit(X, y, routed_params, raw_params=params)
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/imblearn/pipeline.py", line 440, in _fit
    X, y, fitted_transformer = fit_resample_one_cached(
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/joblib/memory.py", line 326, in __call__
    return self.func(*args, **kwargs)
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/imblearn/pipeline.py", line 1336, in _fit_resample_one
    X_res, y_res = sampler.fit_resample(X, y, **params.get("fit_resample", {}))
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/imblearn/base.py", line 202, in fit_resample
    return super().fit_resample(X, y, **params)
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/sklearn/base.py", line 1389, in wrapper
    return fit_method(estimator, *args, **kwargs)
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/imblearn/base.py", line 99, in fit_resample
    X, y, binarize_y = self._check_X_y(X, y)
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/imblearn/base.py", line 157, in _check_X_y
    X, y = validate_data(self, X=X, y=y, reset=True, accept_sparse=accept_sparse)
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/sklearn/utils/validation.py", line 2961, in validate_data
    X, y = check_X_y(X, y, **check_params)
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/sklearn/utils/validation.py", line 1370, in check_X_y
    X = check_array(
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/sklearn/utils/validation.py", line 1107, in check_array
    _assert_all_finite(
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/sklearn/utils/validation.py", line 120, in _assert_all_finite
    _assert_all_finite_element_wise(
  File "/Users/baboo/Desktop/Project_Hospital_Financial_Analysis/.venv/lib/python3.10/site-packages/sklearn/utils/validation.py", line 169, in _assert_all_finite_element_wise
    raise ValueError(msg_err)
ValueError: Input X contains NaN.
SMOTE does not accept missing values encoded as NaN natively. For supervised learning, you might want to consider sklearn.ensemble.HistGradientBoostingClassifier and Regressor which accept missing values encoded as NaNs natively. Alternatively, it is possible to preprocess the data, for instance by using an imputer transformer in a pipeline or drop samples with missing values. See https://scikit-learn.org/stable/modules/impute.html You can find a list of all estimators that handle NaN values at the following page: https://scikit-learn.org/stable/modules/impute.html#estimators-that-handle-nan-values

2025-06-26 14:46:27,777 - __main__ - INFO - 🚀 Starting Hospital Financial Distress Prediction Pipeline
2025-06-26 14:46:27,777 - __main__ - INFO - ============================================================
2025-06-26 14:46:27,777 - __main__ - INFO - 🏥 Loading engineered feature data...
2025-06-26 14:46:27,814 - __main__ - INFO -    ✓ features_2003.parquet: 473 records, 33 features
2025-06-26 14:46:27,817 - __main__ - INFO -    ✓ features_2004.parquet: 473 records, 33 features
2025-06-26 14:46:27,819 - __main__ - INFO -    ✓ features_2005.parquet: 473 records, 33 features
2025-06-26 14:46:27,821 - __main__ - INFO -    ✓ features_2006.parquet: 448 records, 33 features
2025-06-26 14:46:27,824 - __main__ - INFO -    ✓ features_2007.parquet: 455 records, 33 features
2025-06-26 14:46:27,826 - __main__ - INFO -    ✓ features_2008.parquet: 455 records, 33 features
2025-06-26 14:46:27,828 - __main__ - INFO -    ✓ features_2009.parquet: 454 records, 33 features
2025-06-26 14:46:27,830 - __main__ - INFO -    ✓ features_2010.parquet: 448 records, 33 features
2025-06-26 14:46:27,832 - __main__ - INFO -    ✓ features_2011.parquet: 447 records, 33 features
2025-06-26 14:46:27,835 - __main__ - INFO -    ✓ features_2012.parquet: 449 records, 33 features
2025-06-26 14:46:27,838 - __main__ - INFO -    ✓ features_2013.parquet: 449 records, 33 features
2025-06-26 14:46:27,840 - __main__ - INFO -    ✓ features_2014.parquet: 451 records, 33 features
2025-06-26 14:46:27,842 - __main__ - INFO -    ✓ features_2015.parquet: 428 records, 33 features
2025-06-26 14:46:27,845 - __main__ - INFO -    ✓ features_2016.parquet: 447 records, 33 features
2025-06-26 14:46:27,847 - __main__ - INFO -    ✓ features_2017.parquet: 447 records, 33 features
2025-06-26 14:46:27,849 - __main__ - INFO -    ✓ features_2018.parquet: 455 records, 33 features
2025-06-26 14:46:27,851 - __main__ - INFO -    ✓ features_2019.parquet: 455 records, 33 features
2025-06-26 14:46:27,854 - __main__ - INFO -    ✓ features_2020.parquet: 444 records, 33 features
2025-06-26 14:46:27,856 - __main__ - INFO -    ✓ features_2021.parquet: 441 records, 33 features
2025-06-26 14:46:27,858 - __main__ - INFO -    ✓ features_2022.parquet: 441 records, 33 features
2025-06-26 14:46:27,861 - __main__ - INFO -    ✓ features_2023.parquet: 442 records, 33 features
2025-06-26 14:46:27,865 - __main__ - INFO - ✅ Feature data loaded:
2025-06-26 14:46:27,865 - __main__ - INFO -    📊 Total records: 9,475
2025-06-26 14:46:27,865 - __main__ - INFO -    📅 Year range: 2003 - 2023
2025-06-26 14:46:27,865 - __main__ - INFO -    📈 Features: 31
2025-06-26 14:46:27,866 - __main__ - INFO -    🏥 Unique hospitals: 461
2025-06-26 14:46:27,869 - src.modeling - INFO - 📊 Initialized ModelTrainer with 9475 records
2025-06-26 14:46:27,870 - src.modeling - INFO - 📅 Year range: 2003 - 2023
2025-06-26 14:46:27,870 - src.modeling - INFO - Creating target variable based on operating_margin < -5.0 for 2 consecutive years...
2025-06-26 14:46:27,902 - src.modeling - INFO - ✅ Target variable created: 277 distressed (2.9%) out of 9475 records
2025-06-26 14:46:27,902 - src.modeling - WARNING - ⚠️  Severe class imbalance detected (2.9%). Will apply SMOTE and class weighting.
2025-06-26 14:46:27,902 - src.modeling - INFO - 📊 Splitting data:
2025-06-26 14:46:27,902 - src.modeling - INFO -    🏋️ Training: ≤ 2019
2025-06-26 14:46:27,902 - src.modeling - INFO -    🧪 Test: 2020 - 2020
2025-06-26 14:46:27,903 - src.modeling - INFO -    ✅ Validation: ≥ 2021
2025-06-26 14:46:27,904 - src.modeling - INFO - 🧹 Handling missing values...
2025-06-26 14:46:27,905 - src.modeling - INFO -    ⚠️  Found 97765 missing values across 13 features
2025-06-26 14:46:27,915 - __main__ - ERROR - ❌ Pipeline failed: Shape of passed values is (7707, 24), indices imply (7707, 31)
2025-06-26 14:46:59,886 - __main__ - INFO - 🚀 Starting Hospital Financial Distress Prediction Pipeline
2025-06-26 14:46:59,886 - __main__ - INFO - ============================================================
2025-06-26 14:46:59,886 - __main__ - INFO - 🏥 Loading engineered feature data...
2025-06-26 14:46:59,923 - __main__ - INFO -    ✓ features_2003.parquet: 473 records, 33 features
2025-06-26 14:46:59,925 - __main__ - INFO -    ✓ features_2004.parquet: 473 records, 33 features
2025-06-26 14:46:59,928 - __main__ - INFO -    ✓ features_2005.parquet: 473 records, 33 features
2025-06-26 14:46:59,930 - __main__ - INFO -    ✓ features_2006.parquet: 448 records, 33 features
2025-06-26 14:46:59,932 - __main__ - INFO -    ✓ features_2007.parquet: 455 records, 33 features
2025-06-26 14:46:59,935 - __main__ - INFO -    ✓ features_2008.parquet: 455 records, 33 features
2025-06-26 14:46:59,937 - __main__ - INFO -    ✓ features_2009.parquet: 454 records, 33 features
2025-06-26 14:46:59,940 - __main__ - INFO -    ✓ features_2010.parquet: 448 records, 33 features
2025-06-26 14:46:59,942 - __main__ - INFO -    ✓ features_2011.parquet: 447 records, 33 features
2025-06-26 14:46:59,944 - __main__ - INFO -    ✓ features_2012.parquet: 449 records, 33 features
2025-06-26 14:46:59,946 - __main__ - INFO -    ✓ features_2013.parquet: 449 records, 33 features
2025-06-26 14:46:59,949 - __main__ - INFO -    ✓ features_2014.parquet: 451 records, 33 features
2025-06-26 14:46:59,951 - __main__ - INFO -    ✓ features_2015.parquet: 428 records, 33 features
2025-06-26 14:46:59,953 - __main__ - INFO -    ✓ features_2016.parquet: 447 records, 33 features
2025-06-26 14:46:59,956 - __main__ - INFO -    ✓ features_2017.parquet: 447 records, 33 features
2025-06-26 14:46:59,958 - __main__ - INFO -    ✓ features_2018.parquet: 455 records, 33 features
2025-06-26 14:46:59,960 - __main__ - INFO -    ✓ features_2019.parquet: 455 records, 33 features
2025-06-26 14:46:59,963 - __main__ - INFO -    ✓ features_2020.parquet: 444 records, 33 features
2025-06-26 14:46:59,965 - __main__ - INFO -    ✓ features_2021.parquet: 441 records, 33 features
2025-06-26 14:46:59,967 - __main__ - INFO -    ✓ features_2022.parquet: 441 records, 33 features
2025-06-26 14:46:59,969 - __main__ - INFO -    ✓ features_2023.parquet: 442 records, 33 features
2025-06-26 14:46:59,974 - __main__ - INFO - ✅ Feature data loaded:
2025-06-26 14:46:59,974 - __main__ - INFO -    📊 Total records: 9,475
2025-06-26 14:46:59,975 - __main__ - INFO -    📅 Year range: 2003 - 2023
2025-06-26 14:46:59,975 - __main__ - INFO -    📈 Features: 31
2025-06-26 14:46:59,975 - __main__ - INFO -    🏥 Unique hospitals: 461
2025-06-26 14:46:59,979 - src.modeling - INFO - 📊 Initialized ModelTrainer with 9475 records
2025-06-26 14:46:59,979 - src.modeling - INFO - 📅 Year range: 2003 - 2023
2025-06-26 14:46:59,979 - src.modeling - INFO - Creating target variable based on operating_margin < -5.0 for 2 consecutive years...
2025-06-26 14:47:00,013 - src.modeling - INFO - ✅ Target variable created: 277 distressed (2.9%) out of 9475 records
2025-06-26 14:47:00,013 - src.modeling - WARNING - ⚠️  Severe class imbalance detected (2.9%). Will apply SMOTE and class weighting.
2025-06-26 14:47:00,013 - src.modeling - INFO - 📊 Splitting data:
2025-06-26 14:47:00,013 - src.modeling - INFO -    🏋️ Training: ≤ 2019
2025-06-26 14:47:00,013 - src.modeling - INFO -    🧪 Test: 2020 - 2020
2025-06-26 14:47:00,013 - src.modeling - INFO -    ✅ Validation: ≥ 2021
2025-06-26 14:47:00,015 - src.modeling - INFO - 🧹 Handling missing values...
2025-06-26 14:47:00,015 - src.modeling - INFO -    ⚠️  Found 97765 missing values across 13 features
2025-06-26 14:47:00,015 - src.modeling - INFO -    🗑️  Dropping 7 completely missing features: ['current_ratio', 'quick_ratio', 'return_on_equity', 'receivables_turnover', 'days_sales_outstanding', 'debt_to_equity', 'debt_to_assets']
2025-06-26 14:47:00,025 - src.modeling - INFO -    ✅ Missing values imputed with median strategy for 24 features
2025-06-26 14:47:00,025 - src.modeling - INFO - 📏 Applying RobustScaler to handle financial outliers...
2025-06-26 14:47:00,028 - src.modeling - INFO - ✅ Data split and scaling complete:
2025-06-26 14:47:00,029 - src.modeling - INFO -    🏋️ Training: 7707 records, 61 distressed (0.8%)
2025-06-26 14:47:00,029 - src.modeling - INFO -    🧪 Test: 444 records, 36 distressed (8.1%)
2025-06-26 14:47:00,029 - src.modeling - INFO -    ✅ Validation: 1324 records, 180 distressed (13.6%)
2025-06-26 14:47:00,029 - src.modeling - INFO -    📊 Features: 31 (scaled with RobustScaler)
2025-06-26 14:47:00,029 - __main__ - INFO - 🔧 Running balanced hyperparameter tuning...
2025-06-26 14:47:00,029 - src.modeling - INFO - 🔧 Starting balanced hyperparameter tuning with RandomizedSearchCV...
2025-06-26 14:47:00,029 - src.modeling - INFO -    🎯 Mode: balanced (50 iterations, 3-fold CV)
2025-06-26 14:47:00,029 - src.modeling - INFO -    🎯 Using SMOTE for synthetic minority class generation...
2025-06-26 14:47:00,030 - src.modeling - INFO - 📊 Class imbalance ratio: 125.34
2025-06-26 14:47:00,031 - src.modeling - INFO - 🔍 Testing 50 random parameter combinations...
2025-06-26 14:47:00,031 - src.modeling - INFO - ⏱️  Estimated time: 15-20 minutes
2025-06-26 14:47:04,220 - src.modeling - INFO - ✅ Hyperparameter tuning complete!
2025-06-26 14:47:04,220 - src.modeling - INFO - 🏆 Best parameters: {'classifier__colsample_bytree': np.float64(0.7215782853986609), 'classifier__learning_rate': np.float64(0.015971545280479508), 'classifier__max_depth': 5, 'classifier__min_child_weight': 1, 'classifier__n_estimators': 101, 'classifier__subsample': np.float64(0.8126551143952767)}
2025-06-26 14:47:04,220 - src.modeling - INFO - 📊 Best CV score (PR-AUC): 0.4564
2025-06-26 14:47:04,220 - src.modeling - INFO - 🏋️ Training final model with tuned hyperparameters...
2025-06-26 14:47:04,426 - src.modeling - INFO - ✅ Model training complete!
2025-06-26 14:47:04,426 - src.modeling - INFO - 📊 Evaluating model performance...
2025-06-26 14:47:04,453 - src.modeling - INFO - 📊 TRAIN Performance:
2025-06-26 14:47:04,453 - src.modeling - INFO -    🎯 Accuracy: 0.991
2025-06-26 14:47:04,453 - src.modeling - INFO -    📈 ROC-AUC: 0.995
2025-06-26 14:47:04,453 - src.modeling - INFO -    📊 PR-AUC: 0.459
2025-06-26 14:47:04,453 - src.modeling - INFO -    🎯 F1-Score: 0.632
2025-06-26 14:47:04,453 - src.modeling - INFO -    🎯 F2-Score: 0.811 (recall-focused)
2025-06-26 14:47:04,453 - src.modeling - INFO -    📋 Support: 61 positive cases
2025-06-26 14:47:04,470 - src.modeling - INFO - 📊 TEST Performance:
2025-06-26 14:47:04,470 - src.modeling - INFO -    🎯 Accuracy: 0.921
2025-06-26 14:47:04,470 - src.modeling - INFO -    📈 ROC-AUC: 0.956
2025-06-26 14:47:04,470 - src.modeling - INFO -    📊 PR-AUC: 0.519
2025-06-26 14:47:04,470 - src.modeling - INFO -    🎯 F1-Score: 0.667
2025-06-26 14:47:04,470 - src.modeling - INFO -    🎯 F2-Score: 0.822 (recall-focused)
2025-06-26 14:47:04,470 - src.modeling - INFO -    📋 Support: 36 positive cases
2025-06-26 14:47:04,488 - src.modeling - INFO - 📊 VALIDATION Performance:
2025-06-26 14:47:04,488 - src.modeling - INFO -    🎯 Accuracy: 0.901
2025-06-26 14:47:04,488 - src.modeling - INFO -    📈 ROC-AUC: 0.947
2025-06-26 14:47:04,488 - src.modeling - INFO -    📊 PR-AUC: 0.591
2025-06-26 14:47:04,488 - src.modeling - INFO -    🎯 F1-Score: 0.730
2025-06-26 14:47:04,488 - src.modeling - INFO -    🎯 F2-Score: 0.863 (recall-focused)
2025-06-26 14:47:04,488 - src.modeling - INFO -    📋 Support: 180 positive cases
2025-06-26 14:47:04,488 - src.modeling - INFO - 📊 Generating feature importance plots (top 20)...
2025-06-26 14:47:06,047 - src.modeling - INFO - ✅ Feature importance plots saved:
2025-06-26 14:47:06,047 - src.modeling - INFO -    📊 SHAP: /Users/baboo/Desktop/Project_Hospital_Financial_Analysis/visuals/shap_outputs/shap_feature_importance.png
2025-06-26 14:47:06,048 - src.modeling - INFO -    📊 XGBoost: /Users/baboo/Desktop/Project_Hospital_Financial_Analysis/visuals/shap_outputs/xgboost_feature_importance.png
2025-06-26 14:47:06,051 - src.modeling - INFO - ✅ Model saved to /Users/baboo/Desktop/Project_Hospital_Financial_Analysis/models/hospital_distress_model_20250626_144706
2025-06-26 14:47:06,051 - src.modeling - INFO -    📦 Model: /Users/baboo/Desktop/Project_Hospital_Financial_Analysis/models/hospital_distress_model_20250626_144706/model.pkl
2025-06-26 14:47:06,051 - src.modeling - INFO -    📏 Scaler: /Users/baboo/Desktop/Project_Hospital_Financial_Analysis/models/hospital_distress_model_20250626_144706/scaler.pkl
2025-06-26 14:47:06,051 - src.modeling - INFO -    📋 Metadata: /Users/baboo/Desktop/Project_Hospital_Financial_Analysis/models/hospital_distress_model_20250626_144706/metadata.json
2025-06-26 14:47:06,051 - __main__ - INFO - 📊 MODELING PIPELINE COMPLETE!
2025-06-26 14:47:06,051 - __main__ - INFO - ============================================================
2025-06-26 14:47:06,051 - __main__ - INFO - 🏆 FINAL RESULTS:
2025-06-26 14:47:06,051 - __main__ - INFO - 📊 TRAIN:
2025-06-26 14:47:06,051 - __main__ - INFO -    🎯 ROC-AUC: 0.995
2025-06-26 14:47:06,051 - __main__ - INFO -    📊 PR-AUC: 0.459
2025-06-26 14:47:06,051 - __main__ - INFO -    🎯 F1-Score: 0.632
2025-06-26 14:47:06,051 - __main__ - INFO -    🎯 F2-Score: 0.811 (recall-focused)
2025-06-26 14:47:06,051 - __main__ - INFO -    📋 Support: 61 cases
2025-06-26 14:47:06,051 - __main__ - INFO - 📊 TEST:
2025-06-26 14:47:06,051 - __main__ - INFO -    🎯 ROC-AUC: 0.956
2025-06-26 14:47:06,051 - __main__ - INFO -    📊 PR-AUC: 0.519
2025-06-26 14:47:06,051 - __main__ - INFO -    🎯 F1-Score: 0.667
2025-06-26 14:47:06,051 - __main__ - INFO -    🎯 F2-Score: 0.822 (recall-focused)
2025-06-26 14:47:06,051 - __main__ - INFO -    📋 Support: 36 cases
2025-06-26 14:47:06,051 - __main__ - INFO - 📊 VALIDATION:
2025-06-26 14:47:06,051 - __main__ - INFO -    🎯 ROC-AUC: 0.947
2025-06-26 14:47:06,051 - __main__ - INFO -    📊 PR-AUC: 0.591
2025-06-26 14:47:06,051 - __main__ - INFO -    🎯 F1-Score: 0.730
2025-06-26 14:47:06,051 - __main__ - INFO -    🎯 F2-Score: 0.863 (recall-focused)
2025-06-26 14:47:06,051 - __main__ - INFO -    📋 Support: 180 cases
2025-06-26 14:47:06,051 - __main__ - INFO - 💾 Model saved to: /Users/baboo/Desktop/Project_Hospital_Financial_Analysis/models/hospital_distress_model_20250626_144706
